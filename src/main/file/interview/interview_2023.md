
# 快手主站1面 2023-03-29 20.00-20.45 流程终止
直播技术方案优化
1 增加缓存，优化，kafka天然限流，降级，延时队列，kafka去重，数据兜底
2 行情系统：两个行情数据源，数据校验，存入系统，更新时间，加缓存，每日备份
3 synchronize锁和reentrantlock
4 问分库分表，没有做过分库分表
5 系统设计题，每个人的数据存储
5 力扣215

总结 场景题过于common，技术题问的较少，算法没有答对


# 民生科技电话简单沟通2023-3-30 14.00

# 美团1面 2023-3-30 16.00 （有录音）
嗯，还有其他吗？没有了。嗯，OK，诶，这是股权激励，
算这个，然后华新算。那你刚算一个，是那个方案，整方案设计有安全接口
的一些开发和提供，对吧？是的，方案设计这部分能简单介绍一下，就是你具体设计的审就是面临的什么问题
，是怎样的方案解决了什么的问题，以及最终。 
这种问题一直回答不好

稳定性做了哪些事

那除了这一块有就是你们真在落地过程中的稳定性方案的 list 吗
你调行情数据源接口的一个耗时出增慢，或者是接口调失败增加，这种情况有考虑吗？
嗯，那还有其他的吗？这些都是我觉得这里说的部署其实是更偏。嗯，那个运维层面的，在你说系统设计本，虽然对系统架构本身面临未来可能商业化。
行，我回到前面问一下，就前面难点这块，前面提到那个低带宽这块还有一个行业资源切换，然后还有一个数据量过多的处，过多是指你认为多大数据量算过多。
就是刚最开始不是让你就介绍下这行业系统设计解决什么样问题？类似难点，
你这时长就系统里面难点就出现过多，这个时候你们是怎么处理。
这个瓶颈能。具体分析一下吗？具体什么？哪些东西会导致性能出现瓶颈？些东西？
然后这个是啊，对，在你这个行业系统里面是面临一些问题，最终上线之后有啥比较明显的收益吗？这有什么业务指标之类的可以体现你做的这个事是，比如说是正确的，或者换个角度讲是有一些对你自己来说是有一些实际产出的话，有什么指标可以去衡量这个事吗？

这个就刚刚讲的这个 QPS 的调用量，其他的我不太清楚。
OK。行。对，然后就是方案设计这块，然后后面就你其实最开始提到那个 RC 开发，也就是基于你这个方案去做了一个实际的代码开发地，对吧嗯？嗯，行，然后你们这个就是字节这边，据我所知应该是大面，主要是以购为主，然后你这边是就这样在这个行情系统

我在陌陌这边能挑一个你觉得最有亮点，然后最有特色的项目能介绍一下吗？

OK，加机器，那你有去看过，就是你当比如说你在加机器之前，在这个 QPS 10000 的情况下，有去看过系统的一些指标吗？或者说是什么样的因素趋势你要去扩容，因为我理解不仅仅不仅仅是简单说。诶，我现在送。嗯，加了阿帅我就要去扩容，但是可能系统它现在一整个资源利用率都在一个很低的水平，那可能我没必要去扩容，嗯嗯，对吧？嗯，所以是什么样的因素驱使你要去做这扩容以及要扩 50 台，这 50 台是怎么评估来的？
然后前台提到就是主播这边行业比较复杂，对吧？是，嗯，这个业务复杂度体现在哪呢？
OK，那这链路长有对应的一个方案吗？我链路长一方面是业务导致的，另外一方面是说为了保业务的一个体感，技术上做了一些设计，对吧嗯？对，那这个链路过长，第一个是说他我们去做一些队列优化吗？这第一个，第二说像链路这么长，那他的可用性也是我们这个服务稳定性，怎么去保？链路长的优化？

还是？嗯，就业界在容灾这块有哪些手常用手段嘛？这个去了解过一些嘛。
嗯，最后就如果什么都没有问题的话，嗯，可以选择调调新生代的这个大小试一下。
说这个是你这个服务启动是从什么时候开始计算？它十几秒就能。

算法题：
这道题目可以描述为：

​​题目​​：给定一个长度为n的整数数组，判断是否存在三个元素a、b、c，满足以下两个条件：

数值关系：a < b < c；
下标关系：这三个元素的下标i、j、k满足i < j < k（即它们在数组中的顺序是依次出现的）。
换句话说，就是判断数组中是否存在一个严格递增的三元子序列（不需要连续）。

​​示例​​：

输入：[1, 2, 3, 4, 5]
输出：True（例如1, 2, 3）
输入：[5, 4, 3, 2, 1]
输出：False
输入：[2, 1, 5, 0, 4, 6]
输出：True（例如1, 5, 6或0, 4, 6）
这是一个经典的算法问题，通常称为“递增的三元子序列”（或类似名称），可以用贪心算法或动态规划解决。

从左到右递增：即在同一行中，右边的元素比左边的元素大。
从上到下递增：即在同一列中，下边的元素比上边的元素大。
换句话说，这个矩阵的每一行和每一列都是按照升序排列的。例如：

[
[1,  4,  7, 11],
[2,  5,  8, 12],
[3,  6,  9, 16],
[10, 13, 14, 17]
]
现在，给定一个目标数，我们需要高效地判断这个数是否存在于这个二维数组中。
# 京东1面 2023-03-31 15.00
问项目 问kafka原理，问拆装箱等基础问题

# 滴滴一面(没开视频)  2023-04-03 15.00 
1 自我介绍
2 说一个项目
3 线程池参数，线程池使用场景
4 无锁到偏向锁，偏向锁到重量锁转换
5 aqs原理
6 什么时候用synchronize，什么时候用aqs
7 spring aop使用场景，spring aop原理
8 spring 如何解决循环依赖
9 单例模式 (双指针)
10 如何实现一个分布式锁，zk，db，redis如何决定使用哪个锁

# 快手二面 2023-04-04 11.00
问陌陌项目
创建一个活动，排名，需要如何设计
两个有序数组的中位数
# 传易互联一面 2023-04-08（周六）16.00
项目
kafka为什么这么快

# 传易互联2面 2023-04-11 14.00 线下二面
项目

# 快手三面 4.12 15.30
问项目，一道力扣，答出来了

# 58同城本地生活 2023-04-18 14.00
redis zset原理
aqs原理，一个线程中断了如何处理
比较复杂的一个项目
kafka为什么这么快
方法中新增一个方法dubbo如何知道
bean factory 和factory bean了解下
cms 的标记清除算法什么时候真正清除数据
cms在有新的引用引向老的时如何处理

# 米可世界一面 2023-04-19 15.00 现场面，20分钟
Poll和epoll区别
消息是长连接还是短链接
Awk如何使用
打印cpu占用率最高的线程
如何删除redis内存
Redis Aof数据如何转换成csv
netty
倒数第k个值 redis指令（出这种题的人真傻逼）

# 滴滴金融1面 2023-04-20 14.00
写一个死锁的流程
hashmap 死循环如何出现的
mybatis $和#区别
有挑战的事
redis 集群如何扩容
输出第k个元素
explain指令看索引如何看

# 民生科技面试题 2023-04-21 14.00
拆装箱是jdk5执行的吗
spring有哪些模块
spring加载对象有哪些方式 没回答上来
超时问题是如何优化的
jdk5，6，7新特性
幂等问题是如何优化的
如何打破双亲委派模型

# Brix远程 2023-04-27 15.00-16.00 笔试 3道题 都已做完
Brix 2023-04-29（周六） 19:00-19:30

Brix- 邀请您参加腾讯会议
会议主题：Brix-张振朋
会议时间：2023/04/29 19:00-19:30 (GMT+08:00) 中国标准时间 - 北京

https://meeting.tencent.com/dm/4hIA0v9WWx4n

#腾讯会议：936-293-449
1 介绍字节业务
回答 3min
2 前端是用的vue还是react
3 接口可用性达到5个9用什么技术手段实现
1） RPC多机器部署&机房实现 
2） 中间件跨机房部署
3） 上游接口多个数据源，即使多个数据源不可用时增加缓存 
4 本地服务不可用如何处理
接口不可用是bug 完善单测覆盖率
5 基于gin如何管理接口
接口管理
6 接口是否会加版本管控
mvc 
7 v1 v2 持久化层如何保证数据兼容性
字段规范,比如默认
即使没有版本管控，也会有平滑升级 必须先在库中增加字段 
8 gin 和springmvc处理机制相同和不同
写代码 springmvc每个业务可以写一个类 gin 写很多个方法
9 handler 多协程 如何实现

10 保证代码可维护性高 低耦合 高内聚
1） 常量写在首部
2） 一个常量设置只写一次
3）不可变对象，每个变量保证内部不可修改
4) 每个类中依赖注入对象不要过多
5) 保证代码可回滚

11
if else 如何优化 代码重构比较好的方法
一个方法 只能有一个主职责，多个if else违反了单一职责的原则 
层级过多，比如超过三层，必须要进行代码重构
重构方式： 1 switch 2 continue break 减少代码分支 3 代码尽可能短 

12 策略+迭代器
模板方法 面向接口
数据校验 
13 数据需要写在缓存，mongo，es write实现
配置，参数来实现落盘
type: a租户存在a的持久化里边
接口：redis mongo 实现write接口，因为有些公用的方法，使用模板方法实现这些db类，面向接口编程，而不是面向对象编程
13 数据库强一致性 如何配合形成事务的管理 spring的transational注解，如何找到问题 
假如遇到过，增加任务进行一致性校验
环境问题，代码问题 try catch 
其他情形没有遇到过
14 服务治理经验
微服务通用治理 链路，日志，监控，系统保护，自动发现，自动配置
15 skywalking排查
16 skywalking 如何接入skywalking,日志如何吐给skywalking
17 db 容器化
18 mysql 开源的东西，redo log，undo log binlog
19 innodb和myasim区别








# 快手 2023-05-04 16:00

职位描述
你将与一群“可能是行业内最顶尖的”Java后端工程师一起，共同搭建业界领先的直播平台。
在这里你将：
1 参与快手直播产品需求的开发，深入发掘和分析业务需求，撰写技术方案和系统设计，以及相关的代码开发；
2 接受高并发、海量数据的挑战，分析和发现系统的优化点，负责推动系统的性能和可用性的提升；
3 为团队引入创新的技术、创新的解决方案，用创新的思路解决问题。
 任职要求
    1 计算机或相关专业本科及以上学历，3年以上Java开发经验，有扎实的计算机基础知识和编程功底；
    2 精通多线程编程，熟悉JVM，熱悉常见的开源分布式中间件、缓存、消息队列等，熱悉MySQL，熱悉LinuX下的DevOps;
    3 熱悉面向对象设计，有一定的系统架构设计能力；
    4 热爱技术，对代码质量和开发规范有近乎苛刻的要求，善于沟通与园队协作，富有责任心，对业界最新动态有好奇心;
    5 有大型分布式，高并发，高负载，高可用系统设计和稳定性经验优先 


【快手科技】张振朋，你好！欢迎参加快手面试。
面试职位：高级Java开发工程师（直播Server）-【主站】
面试时间：2023-05-04 16:00 (UTC +08:00)
面试形式：视频面试
HR 联系人： 冯诗钰 13324459292
详情介绍请见邮件。

快手科技人力资源部。

1 4分钟自我介绍
2 B端C端区别
B端迭代周期慢，反馈周期长
3 下载用户量1w条
4 行情数据结构
5 zset底层存储 跳表
6 redis集群方案：主从 哨兵 集群
7 为什么不能使用大key
8 五个9如何实现
9 volatile 保证可见性 禁止指令重排序
10  伪共享
频繁刷新主存获取
11 synchronized刷新主存
12 synchronized和reentrantLock区别
13 Innodb 主键索引和二级索引区别

14 索引下推实战
select a where b='' and c='%a% 如何建立索引
15 快照读和当前读
16 mvcc 
17 即时编译技术
17 g1和cms区别



# 美团 2023-05-05 10:00 1面
张振朋先生/女士，您好！

欢迎您参加美团面试，面试相关信息如下：

【面试职位】: 到店事业群-高级Java工程师-北京 点击查看职位详情介绍

【面试部门】: 用户流量研发组

【面试时间】: 北京时间 2023-05-05 10:00

【面试形式】: 视频面试

【面试链接】: http://dpurl.cn/jX1AVWbz

编码测试系统操作指南：http://dpurl.cn/6a31V3j

注：如以上链接无法点击打开，请复制链接至浏览器打开。

【HR联系人】: 刘璐，18636234973，liulu119@meituan.com

1 cas原理,cas可扩展
2 rdb和aof区别
3 concurrentHashmap原理
4 ThreadLocal原理


# 58同城 2023/05/05 15:00-16:00 1面
## 岗位描述：
1.负责全国最大招聘平台的后端研发工作。包括简历，企业，用户增长等多个子业务方向。
2.分析并拆解业务需求，参与业务功能的架构设计和编码实现。
3.参与优化系统的性能，提升系统的承载能力和稳定性。
4.长期招聘中高级、资深java工程师，架构师。海量数据，超高并发。您将面对的是丰富又全面的互联网架构和技术栈，欢迎有志者加入。

任职要求：
1.全日制本科或以上学历。2年以上工作经验。
2.扎实的计算机基础和java语言基础。
3.有互联网业务经验。服务化经验。
4.了解互联网常见技术栈。包括不限于：rpc，序列化。消息队列，存储选型，分布式一致性等等。
5.具有较强的内外沟通能力，良好的团队意识和协作精神。有大数据开发和推荐系统经验更佳。

58同城 邀请您参加腾讯会议
会议主题：58同城Java面试-张振朋
会议时间：2023/05/05 15:00-16:00 (GMT+08:00) 中国标准时间 - 北京

点击链接入会，或添加至会议列表：
https://meeting.tencent.com/dm/rOkNSpCsHsep

#腾讯会议：814-152-806

复制该信息，打开手机腾讯会议即可参与

1 直播数据结构如何设计
2 推荐全部是怎么设计的
3 并发是多少，最多支持多少
4 为什么使用kafka
5 分库分表


# 快手2面 2023-05-05 17:00 (UTC +08:00)
【快手科技】张振朋，你好！欢迎参加快手面试。
面试职位：高级Java开发工程师（直播Server）-【主站】
面试时间：2023-05-05 17:00 (UTC +08:00)
面试形式：视频面试
HR 联系人： 冯诗钰 13324459292
详情介绍请见邮件。

快手科技人力资源部。

1 榜单如何设计
zset 
2 高并发流量写和流量读如何处理

# 得物：2023年5月6日 星期六
面试时间：15:00
面试形式：视频面试
面试链接： https://vc.feishu.cn/j/454829865（会议号: 454829865）

# rockflow 2023/05/10 14:00-14:30
猪猪 邀请您参加腾讯会议
会议主题：视频面试-后端工程师-张振朋
会议时间：2023/05/10 14:00-14:30 (GMT+08:00) 中国标准时间 - 北京
点击链接入会，或添加至会议列表：
https://meeting.tencent.com/dm/58EOajKpK8dV
#腾讯会议：489-689-608
复制该信息，打开手机腾讯会议即可参与

# 【奇富科技】张振朋你好：
我是奇富科技（原360数科） HRBP ，
感谢您对奇富科技（原360数科） 的支持与认可！根据我们电话中的沟通，特邀请您参加我公司的视频面试。
面试岗位：JAVA
面试形式：视频面试
面试日期：2023-05-1016:00
面试链接：https://meeting.tencent.com/dm/qUAlQZbJBBp6  #腾讯会议：558-554-071
注意事项：
为了视频面试正常进行，建议面试前点击视频面试链接提前测试，谢谢您的支持！

那你大概说一下，就是你对于 redis 的一个理解吧？你觉得 redis 除了在你这边的使用之外，还能还有一些其他的一些应用场景吗？
没有了。你刚刚说的主要是一些那个 Redis 的一些特性，或者说它的一些优缺点之类的。嗯，那你具体在你的那个平时工作中对于 Redis 的一个具体的使用场景有哪些？
那你一般使用队列时候那个持久化是选择哪种持久。 rdb or aof
你刚刚说过的，你们现在主要用的都是一些哨，都是哨兵模式，对吧？那你这个哨兵模式还是集群模式的选用？是你这边选用的，还是说本身他们就是已经业务上已经选中好了？
其他的不清楚，那 Redis 里面的那个值什么时候会过期？或者说有什么情况会导致 Redis 里面值被删除？
这些数据是否已经过期。嗯，那这些过去策略的设置你知道是哪些参数吗？
其他的区别不清楚嗯。那假如说现在就是让你在数据库里建一个表，然后这个表里肯定会要添加一些索引，那你添加索引的一个原则，或者说你添加索引的一个逻辑是什么样子的？
呃。那我如果我举个例子，我现在有一张表有 1, 000 万数据，然后我要根据我需要查询其中 10 条。然后完了，我如果直接 limit 10 的话，就是前面几页可能会很快，但等到后面的话就会很慢，那有什么办法去解决这个问题吗？
呃。你就接触过分时分表吗？嗯，接触过啊。那你一般情况，什么样的情况会采用分部分表？
那你怎么知道三层是多少条路由呢？
嗯，那你是怎么保证这 32 张表它的数据量是能够直接分布的？就是。
我问一下，你们现在那个系统的一个个系统有用到那个分布式事务吗？
那用 Kafka 的原因是什么？就是 Kafka 它有什么好的地方和不好的地？
嗯，那如果丢消息了会怎么？嗯，那是你们的业务就不许就可以允许丢消息的吗？还是你们有什么机制能保证他不丢。
嗯，那你如果用卡纳的话能实现那个消息的顺序性吗？
呃。我想就是现在都是分布式系统，然后如果你们需要，你们，那比如说业务会需要调用到另外一个系统的一个业务，那这个时候另如果另外一个系统就是出现问题了，不管是说超时还是说他们那边服务器挂掉了，那这个时候如果我为了不影响你这个业务，你这边需要做，你这边有什么办法去可以去操作的？
有接触过一些限流降级的一些控件吗。
我看你这边对 GMV 原型有一定的了解，对吧？我想问一下，就是假如说现在我有一台机器，我发现它的服务响应一直会，就是每过一段时间它忽然会变得很慢，然后我一定要重启，重启之后才能恢复，那这个时候我怎么去排查这个问题？
这些日志一般是可以设置一个参数，具体参数我忘记了，会有单独的一个文件，里边会显示所有的 major GC 和 young GC 的这个时间，还有就是每次释放掉的内存数量。
AOP 一般就是用，一个是嗯， CG lab，另外一个是使用动态代理来实现的。动态代理底层是用的反射来。

# 奇富科技二面
稍微聊一下，我看你在简历中，无论是在那个北京陌陌科技有限公司，还有达观数据里面，都处理过一些关于高并发的一些事情的一些案例，你能大致说一下你针对于这些高并发处理场景的一些经验吗啊？
嗯，对。那你在过去的那些项目经验中，你觉得有哪些你处理过的问题？是比较，就是觉得说比较是突出的，或者说你觉得是比较有意义的。
# 爱诗科技 20230606